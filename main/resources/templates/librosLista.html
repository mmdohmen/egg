<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Libros</title>
    <!-- BOOTSTRAP -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
</head>
<body>
    <h1>ðŸ“š Lista de LIBROS</h1>
    <br>

    <table class="table">
        <thead>
            <th scope="col">Id</th>
            <th scope="col">Isbn</th>
            <th scope="col-2">Titulo</th>
            <th scope="col">AÃ±o</th>
            <th scope="col">Ejemplares</th>
            <th scope="col">Prestados</th>
            <th scope="col-2">Autor</th>
            <th scope="col">Editorial</th>
            <th scope="col">Acciones</th>
            <th scope="col">Prestar</th>
        </thead>
        <tbody th:each="l : ${libros}">   <!-- objeto auxiliar 'l' -->
            <tr> 
                <td th:text="${l.id}"></td>
                <td th:text="${l.isbn}"></td>
                <td th:text="${l.titulo}"></td>
                <td th:text="${l.anio}"></td>
                <td th:text="${l.ejemplares}"></td>
                <td th:text="${l.ejemplaresPrestados}"></td>
                <td th:text="${l.autor.nombre}"></td>              
                <td th:text="${l.editorial.nombre}"></td>                             
                <td><a th:href="@{modificar/__${l.id}__}" class="btn btn-primary">Modificar</a></td>
                <td><a th:if="${l.ejemplaresRestantes>=1}" th:href="@{/prestamos/formulario/__${l.id}__}" class="btn btn-success">Prestar</a></td>
            </tr>
        </tbody>
    </table>

    <a th:href="@{/}" class="btn btn-secondary">Salir</a>
    
    <!-- BOOTSTRAP -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>
</body>
</html>